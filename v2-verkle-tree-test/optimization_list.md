<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

## üöÄ –§–ò–ù–ê–õ–¨–ù–´–ô –°–ü–ò–°–û–ö –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ô –î–õ–Ø –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ô –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò

### üìê **1. –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò**

#### 1.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ä–µ–≤–∞

- ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ (depth=8) - —É–±—Ä–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–æ—Å—Ç
- ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ (width=128) - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
- ‚úÖ –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å—Ö–µ–º–∞: Blake3 –¥–ª—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —É–∑–ª–æ–≤, KZG —Ç–æ–ª—å–∫–æ –¥–ª—è root
- ‚úÖ –£–±—Ä–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É–∑–ª–æ–≤ (–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ >50%)
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∫–æ–ª–ª–∏–∑–∏–π: overwrite (–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫–æ–ª–ª–∏–∑–∏–π negligible)


#### 1.2 –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞

- ‚úÖ –£–±—Ä–∞—Ç—å needsDepthExpansion() –∏ expandDepth()
- ‚úÖ –£–±—Ä–∞—Ç—å shouldExpandLeaf() –∏ expandLeaf()
- ‚úÖ –£–±—Ä–∞—Ç—å currentDepth tracking
- ‚úÖ –£–ø—Ä–æ—Å—Ç–∏—Ç—å insert() - —Ç–æ–ª—å–∫–æ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–æ–≤
- ‚úÖ –£–±—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ —É–∑–ª–æ–≤


### ‚ö° **2. –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ CPU**

#### 2.1 –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º

- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∫–æ–º–º–∏—Ç–º–µ–Ω—Ç—ã —É–∑–ª–æ–≤ –æ–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä—É—Ñ–æ–≤
- ‚úÖ Worker pool –¥–ª—è batch –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é = CPU cores)
- ‚ö†Ô∏è SIMD –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è Blake3 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ)


#### 2.2 –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å

- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç–º–µ–Ω—Ç—ã (—Ñ–æ–Ω–æ–≤—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç)
- ‚úÖ Temporary root –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- ‚úÖ –û—á–µ—Ä–µ–¥—å –∫–æ–º–º–∏—Ç–º–µ–Ω—Ç–æ–≤
- ‚ö†Ô∏è Pipeline batching - –Ω–∞—á–∏–Ω–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π –±–∞—Ç—á –ø–æ–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–º–º–∏—Ç–∏—Ç—Å—è


#### 2.3 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ü–∏–∫–ª–æ–≤

- ‚ö†Ô∏è Loop unrolling –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—É—Ç–µ–π
- ‚ö†Ô∏è –£–º–µ–Ω—å—à–∏—Ç—å –≤–µ—Ç–≤–ª–µ–Ω–∏—è (branch prediction)
- ‚ö†Ô∏è Inline –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (getNodeIndex, hashValues)
- ‚ö†Ô∏è –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–∞—Å–æ–∫ –¥–ª—è NodeWidth


### üíæ **3. –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ü–ê–ú–Ø–¢–ò**

#### 3.1 –ü—É–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤

- ‚úÖ sync.Pool –¥–ª—è []fr.Element
- ‚úÖ sync.Pool –¥–ª—è []byte (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—É—Ñ–µ—Ä—ã)
- ‚ö†Ô∏è sync.Pool –¥–ª—è polynomial.Polynomial
- ‚ö†Ô∏è sync.Pool –¥–ª—è LeafNode –∏ InternalNode
- ‚ö†Ô∏è –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Blake3 hasher'–æ–≤


#### 3.2 –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

- ‚ö†Ô∏è –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –ø–æ–ª—è: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å uint8 –≤–º–µ—Å—Ç–æ int –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- ‚ö†Ô∏è –ë–∏—Ç–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è —Ñ–ª–∞–≥–æ–≤ (dirty, hasData)
- ‚ö†Ô∏è –£–±—Ä–∞—Ç—å padding –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö (alignment)
- ‚ö†Ô∏è Lazy loading commitment'–æ–≤ (—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- ‚ö†Ô∏è Copy-on-write –¥–ª—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö


#### 3.3 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚ö†Ô∏è LRU cache –¥–ª—è —á–∞—Å—Ç–æ —á–∏—Ç–∞–µ–º—ã—Ö —É–∑–ª–æ–≤
- ‚ö†Ô∏è Cache –¥–ª—è –Ω–µ–¥–∞–≤–Ω–∏—Ö proof'–æ–≤
- ‚ö†Ô∏è Cache –¥–ª—è SRS —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚ö†Ô∏è Bloom filter –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ Has()


### üóÑÔ∏è **4. –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ë–î (Pebble)**

#### 4.1 Batch –æ–ø–µ—Ä–∞—Ü–∏–∏

- ‚úÖ Batch write –≤–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö Put()
- ‚ö†Ô∏è Batch read –¥–ª—è multi-get –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚ö†Ô∏è Write-ahead log –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–º–µ—Ä batch –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏


#### 4.2 Compression \& Encoding

- ‚ö†Ô∏è –°–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é (zstd/snappy)
- ‚ö†Ô∏è –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (protobuf –≤–º–µ—Å—Ç–æ JSON)
- ‚ö†Ô∏è Delta encoding –¥–ª—è –ø–æ—Ö–æ–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è Varint encoding –¥–ª—è —á–∏—Å–µ–ª


#### 4.3 DB –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- ‚ö†Ô∏è –£–≤–µ–ª–∏—á–∏—Ç—å write buffer size
- ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å bloom filters
- ‚ö†Ô∏è –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å compaction
- ‚ö†Ô∏è –û—Ç–¥–µ–ª—å–Ω—ã–µ column families –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö


### üîê **5. –ö–†–ò–ü–¢–û–ì–†–ê–§–ò–ß–ï–°–ö–ò–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò**

#### 5.1 KZG –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚úÖ KZG —Ç–æ–ª—å–∫–æ –¥–ª—è root (–Ω–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞)
- ‚ö†Ô∏è Batch KZG operations (multi-opening)
- ‚ö†Ô∏è Pre-computed tables –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
- ‚ö†Ô∏è Lazy KZG commitment (–≤—ã—á–∏—Å–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω proof)
- ‚ö†Ô∏è Incremental KZG updates –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ—Å—á–µ—Ç–∞


#### 5.2 Blake3 –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Blake3 (fastest hash)
- ‚ö†Ô∏è –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å hasher instances
- ‚ö†Ô∏è Batch hashing –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–∑–ª–æ–≤
- ‚ö†Ô∏è Parallel Blake3 –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ Blake3)


#### 5.3 SRS –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚ö†Ô∏è –ó–∞–≥—Ä—É–∑–∫–∞ SRS –æ–¥–∏–Ω —Ä–∞–∑ (–Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑)
- ‚ö†Ô∏è Memory-mapped SRS –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ RAM
- ‚ö†Ô∏è –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤


### üì¶ **6. BATCH \& BULK –û–ü–ï–†–ê–¶–ò–ò**

#### 6.1 Batch insert

- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤—Å—Ç–∞–≤–æ–∫ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–º–µ–Ω—Ç–æ–º
- ‚ö†Ô∏è –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ = NodeWidth
- ‚ö†Ô∏è –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ load
- ‚ö†Ô∏è Pre-sorting –≤—Å—Ç–∞–≤–æ–∫ –ø–æ path –¥–ª—è locality


#### 6.2 Bulk proof generation

- ‚úÖ Multi-proof —Å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–µ–π –æ–±—â–∏—Ö —É–∑–ª–æ–≤
- ‚ö†Ô∏è Batch proof generation —Å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- ‚ö†Ô∏è Incremental proof updates (–≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–π —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)


### üéØ **7. –ê–õ–ì–û–†–ò–¢–ú–ò–ß–ï–°–ö–ò–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò**

#### 7.1 Path optimization

- ‚ö†Ô∏è Path compression –¥–ª—è sparse –¥–µ—Ä–µ–≤—å–µ–≤
- ‚ö†Ô∏è Lazy node creation (—Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- ‚ö†Ô∏è Short-circuit –¥–ª—è –ø—É—Å—Ç—ã—Ö –ø–æ–¥–¥–µ—Ä–µ–≤—å–µ–≤


#### 7.2 Commitment —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

- ‚úÖ Lazy commits (—Ç–æ–ª—å–∫–æ –¥–ª—è dirty —É–∑–ª–æ–≤)
- ‚ö†Ô∏è Incremental updates –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ—Å—á–µ—Ç–∞
- ‚ö†Ô∏è Merkle-style optimization: –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ö–µ—à–∏
- ‚ö†Ô∏è Deferred commitment –¥–ª—è batch –æ–ø–µ—Ä–∞—Ü–∏–π


#### 7.3 Proof –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚ö†Ô∏è Proof compression (–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Ö–µ—à–µ–π)
- ‚ö†Ô∏è Aggregated proofs –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚ö†Ô∏è Partial proof caching


### üîß **8. –°–ò–°–¢–ï–ú–ù–´–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò**

#### 8.1 Memory allocation

- ‚úÖ Pre-allocate slices —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π capacity
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å arena allocator –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- ‚ö†Ô∏è Stack allocation –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- ‚ö†Ô∏è –ò–∑–±–µ–≥–∞—Ç—å escape to heap


#### 8.2 Garbage Collection

- ‚ö†Ô∏è Minimize allocations –≤ hot paths
- ‚ö†Ô∏è Batch –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
- ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GOGC –¥–ª—è –±–æ–ª—å—à–µ–π throughput
- ‚ö†Ô∏è –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π runtime.GC() –º–µ–∂–¥—É batch'–∞–º–∏


#### 8.3 IO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚ö†Ô∏è Buffered IO –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚ö†Ô∏è Direct IO –¥–ª—è –±–æ–ª—å—à–∏—Ö –±–ª–æ–∫–æ–≤
- ‚ö†Ô∏è mmap –¥–ª—è read-only –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è Prefetching –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–∞


### üìä **9. MONITORING \& PROFILING**

#### 9.1 –ú–µ—Ç—Ä–∏–∫–∏

- ‚ö†Ô∏è Latency tracking (p50, p95, p99)
- ‚ö†Ô∏è Throughput metrics
- ‚ö†Ô∏è Memory usage tracking
- ‚ö†Ô∏è Cache hit/miss rates
- ‚ö†Ô∏è Batch size effectiveness


#### 9.2 Adaptive optimization

- ‚ö†Ô∏è Auto-tuning batch size –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫
- ‚ö†Ô∏è Dynamic worker count adjustment
- ‚ö†Ô∏è Adaptive caching strategy
- ‚ö†Ô∏è Hot path detection –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è


### üß™ **10. –°–ü–ï–¶–ò–ê–õ–ò–ó–ò–†–û–í–ê–ù–ù–´–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò**

#### 10.1 Read-heavy workload

- ‚ö†Ô∏è –ë–æ–ª—å—à–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ö†Ô∏è Read replicas
- ‚ö†Ô∏è Snapshot isolation
- ‚ö†Ô∏è Bloom filters –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª—é—á–µ–π


#### 10.2 Write-heavy workload

- ‚ö†Ô∏è –ë–æ–ª—å—à–∏–π write buffer
- ‚ö†Ô∏è Delayed persistence
- ‚ö†Ô∏è Write combining
- ‚ö†Ô∏è Async fsync


#### 10.3 Mixed workload

- ‚ö†Ô∏è Separate thread pools –¥–ª—è read/write
- ‚ö†Ô∏è Priority queues
- ‚ö†Ô∏è Load balancing –º–µ–∂–¥—É –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

***

## üìà –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:

### **TIER 1: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ ‚úÖ)**

1. –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (depth=8, width=128)
2. –ì–∏–±—Ä–∏–¥ Blake3 + KZG root
3. –£–±—Ä–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
4. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∫–æ–º–º–∏—Ç–º–µ–Ω—Ç—ã
5. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç–º–µ–Ω—Ç—ã
6. –ü—É–ª—ã –¥–ª—è fr.Element

### **TIER 2: –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (‚ö° Quick wins)**

7. Batch Pebble operations
8. Batch KZG multi-opening
9. Inline –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
10. –ü—Ä–æ—Çobuf –≤–º–µ—Å—Ç–æ JSON
11. LRU cache –¥–ª—è —É–∑–ª–æ–≤
12. Bloom filter –¥–ª—è Has()

### **TIER 3: –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (üéØ Diminishing returns)**

13. Compression –≤ DB
14. Memory-mapped SRS
15. Adaptive batch sizing
16. GC tuning
17. Proof caching
18. Monitoring \& metrics

### **TIER 4: –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (üî¨ Micro-optimizations)**

19. SIMD –≤—Ä—É—á–Ω—É—é
20. Arena allocator
21. –ë–∏—Ç–æ–≤—ã–µ –ø–æ–ª—è
22. Path compression
23. Custom allocator

***

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:

| Tier | Improvement | Effort | Priority |
| :-- | :-- | :-- | :-- |
| **Tier 1** | **5-10x** | –°—Ä–µ–¥–Ω–∏–π | ‚úÖ –°–î–ï–õ–ê–¢–¨ |
| **Tier 2** | 2-3x | –ú–∞–ª—ã–π | ‚ö° –°–ª–µ–¥—É—é—â–∏–π |
| **Tier 3** | 1.5-2x | –°—Ä–µ–¥–Ω–∏–π | üéØ –ü–æ—Ç–æ–º |
| **Tier 4** | 1.1-1.3x | –ë–æ–ª—å—à–æ–π | üî¨ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |

**–ò—Ç–æ–≥–æ–≤–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ: –¥–æ 30-50x –æ—Ç baseline!** üöÄ

